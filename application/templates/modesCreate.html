{% extends "base.html" %}
{% block title %}Mode- Add{% endblock %}
{% block content %}
<div class="page-header">
  <h3>Create Mode</h3>
</div>
<div class="panel panel-default">
  <div class="panel-heading">
    <a href="/modes" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-arrow-left"></span>  Back to List</a>
  </div>
  <div class="panel-body">
    <form id="mode-entry" class="form-horizontal" role="form" method="post" action="/modes/create">
      <div class="form-group">
        <label class="col-lg-2 control-label" for="">Name</label>
        <div class="col-lg-4">
          <input type="text" class="form-control" id="modeTitle" name="modeTitle" placeholder="Mode Name" autofocus required/>
        </div>
      </div>
      <div class="form-group">
        <label class="col-lg-2 control-label" for="">Description</label>
        <div class="col-lg-4">
          <input type="text" class="form-control" id="modeDesc" name="modeDesc" placeholder="Mode Description"/>
        </div>
      </div>
      <div class="form-group">
        <label class="col-lg-2 control-label" for="">Lambda</label>
        <div class="col-lg-4">
          <input type="text" class="form-control" id="lambda" name="lambda" placeholder="0.0" required/>
        </div>
      </div>
      <div class="form-group">
        <label class="col-lg-2 control-label" for="">Target</label>
        <div class="col-lg-4">
          <select id="class" class="form-control" name="target">
            <option>Cu</option>
            <option>Co</option>
          </select>
        </div>                    
      </div>
      <div class="form-group">
        <label class="col-lg-2 control-label" for="">FWHMA</label>
        <div class="col-lg-4">
          <input type="text" class="form-control" id="fwhma" name="fwhma" placeholder="0.0" required/>
        </div>
      </div>
      <div class="form-group">
        <label class="col-lg-2 control-label" for="">FWHMB</label>
        <div class="col-lg-4">
          <input type="text" class="form-control" id="fwhmb" name="fwhmb" placeholder="0.3" required/>
        </div>
      </div>

      <div class="form-group">
        <label class="col-lg-2 control-label" for="">Mineral DB</label>
        <div class="col-lg-4">
          <select id="class" class="form-control" name="inventory">
            <option value="rockforming">Rock Forming</option>
            <option value="cement">Cement</option>
            <option value="pigment">Pigment</option>
            <option value="chemin">Chemin</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <div class="col-lg-offset-2 col-lg-4">
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>
      </div>
    </form>
  </div>
</div>
{% endblock %}
	    {% block footer_script %}
	    <script>
              $(function () {
              var t = new Date();
              var dd = t.getDate();
              if (dd < 10)
                       dd = "0" + dd;

		       var mm = t.getMonth() + 1;
		       if (mm < 10)
				mm = "0" + mm;

				var yyyy = t.getFullYear();

				$("#date_of_birth").val(dd + '-' + mm + '-' + yyyy);
				$("#date_of_birth").datepicker({ dateFormat: 'dd-mm-yy',changeMonth: true, changeYear: true });
				});


				// jQuery plugin to prevent double submission of forms
				jQuery.fn.preventDoubleSubmission = function () {
				$(this).on('submit', function (e) {
				var $form = $(this);

				if ($form.data('submitted') === true) {
				// Previously submitted - don't submit again
				e.preventDefault();
				} else {
                    // Mark it so that the next submit can be ignored
                    $form.data('submitted', true);
                }
            });

            // Keep chainability
            return this;
        };

        $('form').preventDoubleSubmission();
    </script>
{% endblock %}
